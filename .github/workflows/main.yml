# This is a basic workflow to help you get started with Actions

name: flow

# Controls when the workflow will run
on:
  # Triggers the workflow on push or pull request events but only for the main branch
  push:
    branches: [ main ]

  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
  # This workflow contains a single job called "build"
  automate:
    # The type of runner that the job will run on
    runs-on: ubuntu-latest

    # Steps represent a sequence of tasks that will be executed as part of the job
    steps:
    - name: Boomerang Flow Run Workflow
      uses: boomerang-io/flow.action@v0.5.1
      with:
        # The Boomerang Flow event URL and context
        url: https://ocp2.cloud.boomerangplatform.net/dev/flow/services/listener/event
        # The security token as part of your workflow
        token: ${{ secrets.FLOW_TOKEN }}
        # The ID of the workflow you wish to execute
        workflowId: 60fe66fe522ba62b4b779f49
        # The custom topic entered into your worlflow configuration
        topic: github
        # The JSON payload to send with the event
        #payload: # optional
